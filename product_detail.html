


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>product detail</title>
    <style>
       @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
        body{
            font-family: "Roboto", sans-serif;
        }
       #productdetailcontainer{
        display:flex;
        justify-content: space-evenly;
         margin-top:150px;
       } 

       #AddtoCartButton{
        background-color: #ff3269;
        color:white;
        border-radius: 5px;
        border: none;
        height:50px;
        width:90px;

       }

        #product-details-1{
            width:800px;
        }

        #product-details-1>img{
            margin-left:20px;
        }

       #product-details-1>li{
     color:#b7b7c6 ;
     font-size: 19px;
     margin-left: 20px;;
       }

          #product-details-2{
        margin-top:100px;
       }

       #proddet-1{
        margin-top: 50px;
       }

        .line {
    width: 100%;
    height: 1px;
    background-color: #d7d4d9;
    margin-top:20px;
  }
  #proddetapp{
   margin-left: 20px;
   margin-top: 20px;

  }
  .proddet{
    display:flex;
    gap:20px;
  }

   .proddetimg{
    width:600px;
    height:600px;
  } 
    </style>
</head>
<body>

      <div id="header" class="fixed-top opacity-100">
        <div class="navbar d-flex justify-content-around">
            <div class="Zepto-Home">
                <a href="index.html"><img class="logo" src="https://cdn.zeptonow.com/web-static-assets-prod/artifacts/10.13.1/images/header/primary-logo.svg" alt="logo-error"></a>
            </div>
            <div class="location">
                <div class="Delivery-time">
                    <span>Delivery in </span> <span class="time">10 Mins</span>
                </div>
                <button id="openDialog">
                    <span class="address">Enter Your Location</span>
                    <span><img src="/assets/Down-arrow.svg" alt="Down Arrow"></span>
                </button>
            </div>
        
            <!-- Dialog Overlay -->
            <div class="dialog-overlay" id="dialogOverlay">
                <div class="dialog-box">
                    <h3>Search Location</h3>
                    <div class="location-input">
                        <div class="d-flex intab"><img src="/assets/location_on_24dp_FILL0_wght400_GRAD0_opsz24.svg" alt=""><input type="text" id="locationField" placeholder="Enter your location"></div>
                        
                        <button id="searchLocation">Search</button>
                    </div>
                </div>
            </div>
            <div onclick="window.location.href='search.html'">
                <div class="search-button d-flex" focus="">
                    <img src="./assets/Search-Icon.svg" alt="">
                    <input type="text" id="search-input" class="form-control" placeholder="search...">
                </div>

            </div>
            
            <div class="profileAndCart d-flex justify-content-between">
                <div id="profile-icon" >
                    <a href="login.html"><img src="./assets/profile-icon.svg" alt=""></a>
                    <p>Profile</p>
                </div>
                <div id="cart-icon">
                    <a href="#"><img src="./assets/cart.svg" alt=""></a>
                    <p>Cart</p>
                </div>
            </div>
        </div>
        
    </div>

  <div class="cartsidebar" id="cartsidebar">
  <div class="cartsidebar-header">
    <button class="btn-close" id="closeSidebar">&times;</button>
  </div>
  <div class="cartsidebar-body">
    <!-- Cart login prompt -->
    <div id="login-to-view-cart" style="display: none;">
      <h2>Please log in to view your cart</h2>
      <button id="cart-login-button" onclick="openLoginPopup()">Log In</button>
    </div>
    <!-- Cart items will be displayed dynamically here -->
    <div class="cart-container" id="cart-items" style="display: none;">
      <!-- Cart items will be displayed dynamically here -->
    </div>
  </div>
</div>



 <div id="addressModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Enter your delivery address</h2>
            <input id="autocomplete" type="text" placeholder="Enter your address">
            <button id="saveAddress">Save Address</button>
        </div>
    </div>

      <!-- Login Popup -->
   
  <div class="login-popup" id="login-popup">
    <div class="popup-content">
        <span class="close" onclick="closeLoginPopup()">&times;</span>
        <div class="zepto-container">
            <!-- Existing content for login -->
            <div id="login-form">
                <input type="tel" id="phone-input" class="zepto-input" placeholder="+91 Enter Phone Number">
                <input type="password" id="password-input" class="zepto-input" placeholder="Enter Password">
                <button class="zepto-button" onclick="login()">Continue</button>
                <!-- Terms of Service and Privacy Policy -->
                <div class="zepto-terms">By continuing, you agree to our Terms of Service & Privacy Policy</div>
            </div>
            <div id="logged-in-content" style="display: none;">
                <h3>Zepto Food Mart</h3>
                <button class="zepto-button" onclick="logout()">Logout</button>
            </div>
            <!-- Links to Google Play and App Store -->
            <div class="zepto-links">
                <a href="#" class="zepto-link">GET IT ON Google Play</a>
                <a href="#" class="zepto-link">Download on the App Store</a>
            </div>
        </div>
    </div>
</div>



    
    <div id="productdetailcontainer">
         <div id="product-details-1"></div>
         <div id="product-details-2"></div>
    </div>
     





     <script src="cart.js"></script>
<script src="sidebar.js"></script>
<script src="./login.js"></script>
   <script>
  
    function addToCart(product) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingProduct = cart.find(item => item.id === product.id);
            if (existingProduct) {
                existingProduct.quantity += 1;
                existingProduct.costprice += product.unitprice;
            } else {
                product.quantity = 1;
                product.unitprice = product.costprice; // Save the unit price
                cart.push(product);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
               displayCartItems();
            console.log('Product added to cart:', product);
        }

        async function fetchProductDetails(productId) {
            try {
                const response = await fetch(`https://mock-server-api-wh0v.onrender.com/products/${productId}`);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error fetching product details:', error);
                throw error;
            }
        }

        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');
        if (productId) {
            fetchProductDetails(productId)
                .then(product => {
                    const productDetailsDiv1 = document.getElementById('product-details-1');
                    const productDetailsDiv2 = document.getElementById('product-details-2');
                    productDetailsDiv1.innerHTML = `
                        <img  class="proddetimg" src="${product.url}" alt="${product.productname}" />
                        <h3 style="margin-top:20px;font-size:30px;margin-left:20px; ">About Product</h3>
                        <li>Description: ${product.description}</li>
                        <li>Country Of Origin: ${product.country}</li>
                        <li>Shelf Life: ${product.shelflife}</li>
                        ${product.manufacturername ? `<li>Manufacturer Name: ${product.manufacturername}</li>` : ''}
                        ${product.manufactureraddress ? `<li style="margin-bottom:20px">Manufacturer Address: ${product.manufactureraddress}</li>` : ''}
                    `;
                    productDetailsDiv2.innerHTML = `
                        <h2>${product.productname}</h2>
                        <p>${product.quantity}</p>
                        <h1>â‚¹${product.costprice}</h1>
                        <button id="AddtoCartButton">Add</button>
                        <div class="line"></div>
                         <div id="proddet-1">
                        <h2>How it Works</h2>
                        <div id="proddetapp">
                            <div class="proddet">
                                <div><img src="https://cdn.zeptonow.com/web-static-assets-prod/artifacts/10.13.1/images/pdp/place-order.svg" /></div>
                                <div>
                                    <h3>Open the app</h3>
                                    <p>Choose from over 7000 products across groceries, fresh fruits & veggies, meat, pet care, beauty items & more</p>
                                </div>
                            </div>
                            <div class="proddet">
                                <div><img src="https://cdn.zeptonow.com/web-static-assets-prod/artifacts/10.13.1/images/pdp/do-not-blink.svg" /></div>
                                <div>
                                    <h3>Place an order</h3>
                                    <p>Add your favourite items to the cart & avail the best offers</p>
                                </div>
                            </div>
                            <div class="proddet">
                                <div><img src="https://cdn.zeptonow.com/web-static-assets-prod/artifacts/10.13.1/images/pdp/enjoy.svg" /></div>
                                <div>
                                    <h3>Get free delivery</h3>
                                    <p>Experience lighting-fast speed & get all your items delivered in 10 minutes</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;
                    const addToCartButton = document.getElementById('AddtoCartButton');
                    addToCartButton.addEventListener('click', () => {
                        addToCart(product);
                    });
                })
                .catch(error => {
                    console.error('Error displaying product details:', error);
                });
        } else {
            console.error('Product ID not found in URL parameters.');
        }

                
document.addEventListener("DOMContentLoaded", (event) => {
  displayCartItems();
});
   
</script>
   
</body>
</html>


 